id: internal-nicodennis-duty-status-alert-samsara-function
name: duty-status-alert-samsara-function
description: Alert when a driver has been in PC for more than 16 hours
handler: entrypoint.main
runtime: python3.12
created_at: 2025-12-02T21:34:20Z
created_by: nico.dennis
tags: []
notes: |
  # Duty Status Alert - PC Duration Monitor
  
  Monitors drivers' Hours of Service (HOS) status and alerts when a driver has been
  in Personal Conveyance (PC) status for more than 16 consecutive hours (configurable).
  
  ## How It Works
  
  1. Fetches HOS clocks from Samsara API via /fleet/hos/clocks
  2. Checks each driver's current duty status
  3. Calculates duration for drivers in PC status
  4. Returns alerts for those exceeding the threshold
